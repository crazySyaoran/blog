---
layout: post
title: Java从入门到骂娘——一个pythonista的java学习笔记
date: 2020-03-26
Author: Syaoran
tags: [java, note]
comments: true
pinned: true
---

现在是暂时把Java相关的都记在这里，以后肯定会有冗余难以查找的问题，但现在暂时还没想好怎么给这些词条分类，不过之后一定会fix这个问题。

### 在Java中新建一个可变长的String型字符串(List)
```
List<StringBuilder> rows = new ArrayList<>();
List<String> lst = new ArrayList<>();
```
> int型List的写法是List<Integer>而非List<int>  
> List<Integer>、Integer[]、int[]是可以相互转换的，可以参考[cnblog_会偷袭的猫](https://www.cnblogs.com/cat520/p/10299879.html)，要求java8+
> 常见的list和array的转换是 `l = Arrays.asList(a)`和`a = l.toArray(new String[l.size()]);`
> Arrays.asList(T... a)是一个可变参数的方法，详见“Java可变参数”

### Java可变参数
在 Java 5 中提供了变长参数，允许在调用方法时传入不定长度的参数。变长参数是 Java 的一个语法糖，本质上还是基于数组的实现。  
在定义方法时，在最后一个形参后加上三个点`...`，就表示该形参可以接受多个参数值，多个参数值被当成数组传入。
- 可变参数只能作为函数的最后一个参数，但其前面可以有也可以没有任何其他参数
- 由于可变参数必须是最后一个参数，所以一个函数最多只能有一个可变参数
- Java的可变参数，会被编译器转型为一个数组
> public static void test(String... args) {
>     for(String arg : args) {
>         System.out.println(arg);
> 	  }

### Java中List是不支持List[i]的写法的
```
// 读操作请使用get()
c = l.get(i);

// 写操作请使用set()
l.set(i, val);
```

### String, StringBuffer, StringBuilder的区别
String是字符串的常量，StringBuild和StringBuffer是字符串变量，变量的更改只需修改指针，因此速度要快得多。
> String看上去是可以修改的，但实际上修改过程中Java是新建了一个String对象并回收旧对象，导致速度会变慢

StringBuilder是线程不安全的，StringBuffer是线程安全的，同时因此StringBuilder也是速度最快的

### Java的一行式判断  
```
条件 ? 是 : 否 
// x>y ? x : y;  

if (条件) 执行语句
// if (x>y) x = y+1;
```

### Java中的"for i in list"  
```
for(变量 : 集合) 语句
//for (int i : list) System.out.print(i)
// for (char c : s.toCharArray()) {...}
```

### 匿名数组  
```
new int[] {1, 2, 3, 4, 5}
// String x = Arrays.toString(new int[] {1, 2});
```

### 生成一个类似[1,2,3,4,...,100]的数组  
```
List<Integer> range = IntStream.range(start, end).boxed().collect(Collectors.toList());  
```
> 我吐了，python里list(range(start, end))放在java里能这么费劲


### 遍历string的每个char  
```
for (char c : s.toCharArray()) {
	...
}
```

### Java基本数据类型的相互转换  
```
目标数据类型.valueOf(变量);
// Integer.valueOf(s);
// String.valueOf(1.23);
```

### 字符串的切分  
```
s.substring(i,j)
```

### 二维数组  
```
List<List<Integer>> mtx = new ArrayList();
```

### 数组排序  
```
Arrays.sort(nums);
```

### 获取一个对象的类型  
```
obj.getClass() //获取对象的类，返回值是class类型
obj.getClass().getTypeName() //获取类名，String类型
```

### @注解  
pass

### 关键字 final   
1. 用于修饰类：当用final修饰一个类时，表明这个类不能被继承。
2. 用于修饰方法：用于禁止该方法在子类中被覆盖。
3. 用于修饰变量：对于一个final变量，如果是基本数据类型的变量，则其数值一旦在初始化之后便不能更改；如果是引用类型的变量，则在对其初始化之后便不能再让其指向另一个对象。














